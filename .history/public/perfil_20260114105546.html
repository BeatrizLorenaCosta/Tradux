<!DOCTYPE html>
<html lang="pt-PT">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Tradux | Perfil</title>

        <!-- CSS -->
        <link rel="stylesheet" href="../src/css/style.css">

        <!-- Bootstrap -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet">
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
            rel="stylesheet">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    </head>
    <body>

    <header>
        <div class="container-header">
            <a href="index.html">
                <img src="../src/img/titulo.png" alt="Logo Tradux" class="logo">
            </a>

                    <nav class="main-nav d-flex align-items-center w-100"
                        aria-label="Navegação principal">
                        <div id="main-nav" class="nav-center mx-auto">
                            <a href="index.html" class="nav-btn">Início</a>
                            <a href="quem-somos.html" class="nav-btn">Quem Somos</a>
                        </div>
                    </nav>
                </div>
            </nav>
        </div>
    </header>

        <main>
            <section class="section visible">
                <div class="d-flex" style="min-height: calc(100vh - 120px);">
                    <!-- Sidebar do Utilizador -->
                    <aside class="sidebar bg-dark text-white" id="userSidebar">
                        <div
                            class="logo text-center py-4 border-bottom border-secondary w-100">
                            <h4 class="mb-0">Tradux <span
                                    class="text-primary">Perfil</span></h4>
                        </div>
                        <nav class="nav-menu mt-4">
                            <!-- Carregado automaticamente -->
                        </nav>
                    </aside>

                    <!-- Conteúdo Principal do Utilizador -->
                    <div class="main-content flex-grow-1 bg-light">
                        <header
                            class="bg-white shadow-sm p-3 d-flex justify-content-between align-items-center sticky-top">
                            <button class="btn btn-dark d-lg-none"
                                id="userMenuToggle">
                                <i class="fas fa-bars"></i>
                            </button>
                            <h2 class="h4 mb-0" id="userPageTitle">Meus
                                Documentos</h2>
                            <div
                                class="user-info d-flex align-items-center gap-3">
                                <span id="userNameDisplay">Olá, [Nome do
                                    Utilizador]</span>
                                <div
                                    class="user-avatar bg-primary text-white rounded-circle d-flex align-items-center justify-content-center"
                                    style="width: 40px; height: 40px;">
                                    US
                                </div>
                            </div>
                        </header>

                        <div class="container-fluid py-4" id="userContent">
                            <!-- Meus Documentos (página inicial) -->
                            <div id="meus-documentos" class="user-page">
                                <h1 class="display-6 mb-4">Os Meus
                                    Documentos</h1>
                                <p class="text-muted mb-4">Aqui pode acompanhar
                                    o estado de todos os documentos que enviou
                                    para tradução.</p>

                                <div class="card border-0 shadow-sm">
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table
                                                class="table table-hover mb-0">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th>ID</th>
                                                        <th>Nome</th>
                                                        <th>Ficheiro</th>
                                                        <th>De → Para</th>
                                                        <th>Paginas</th>
                                                        <th>Valor</th>
                                                        <th>Estado</th>
                                                        <th>Data Envio</th>
                                                        <th>Ação</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <!-- Linhas de documentos serão
                                                        inseridas aqui via JS -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Alterar Dados -->
                            <div id="alterar-dados" class="user-page"
                                style="display: none;">
                                <h1 class="display-6 mb-4">Alterar Dados
                                    Pessoais</h1>

                                <div class="row justify-content-center">
                                    <div class="col-lg-8 col-md-10">
                                        <div class="card border-0 shadow-sm">
                                            <div class="card-body p-4 p-md-5">

                                                <form id="form-dados">
                                                    <!-- Email -->
                                                    <div
                                                        class="row mb-3 align-items-center">
                                                        <label
                                                            for="perfil-email"
                                                            class="col-sm-3 data-label">
                                                            Email:
                                                        </label>
                                                        <div class="col-sm-9">
                                                            <input
                                                                type="email"
                                                                id="perfil-email"
                                                                class="form-control"
                                                                required>
                                                        </div>
                                                    </div>

                                                    <!-- Nome -->
                                                    <div
                                                        class="row mb-3 align-items-center">
                                                        <label for="perfil-nome"
                                                            class="col-sm-3 data-label">
                                                            Nome:
                                                        </label>
                                                        <div class="col-sm-9">
                                                            <input
                                                                type="text"
                                                                id="perfil-nome"
                                                                class="form-control"
                                                                required>
                                                        </div>
                                                    </div>

                                                    <!-- Password -->
                                                    <div
                                                        class="row mb-3 align-items-center">
                                                        <label
                                                            for="perfil-password"
                                                            class="col-sm-3 data-label">
                                                            Nova password:
                                                        </label>
                                                        <div class="col-sm-9">
                                                            <input
                                                                type="password"
                                                                id="perfil-password"
                                                                class="form-control"
                                                                placeholder="Deixar vazio para não alterar">
                                                        </div>
                                                    </div>

                                                    <!-- Confirmar Password -->
                                                    <div
                                                        class="row mb-4 align-items-center">
                                                        <label
                                                            for="perfil-password-confirm"
                                                            class="col-sm-3 data-label">
                                                            Confirmar password:
                                                        </label>
                                                        <div class="col-sm-9">
                                                            <input
                                                                type="password"
                                                                id="perfil-password-confirm"
                                                                class="form-control">
                                                        </div>
                                                    </div>

                                                    <!-- Botões -->
                                                    <div
                                                        class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
                                                        <button type="submit"
                                                            class="btn btn-outline-primary btn-lg px-5">
                                                            Guardar Alterações
                                                        </button>
                                                    </div>
                                                </form>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="equipa-tradutores" class="user-page">
                                <h1 class="display-6 mb-4">Minha Equipa de Tradução</h1>
                                <div id="form-tradutores-wrapper" class="card border-0 shadow-sm mb-4">
                                    <div class="card-body">
                                        <form id="form-tradutores" style="max-width: 55%;">
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Nome da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="nome_equipa1_tradutores" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Tipo da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="tipo_equipa1_tradutores" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Estado da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="estado_equipa1_tradutores" class="form-control" disabled>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                
                                <h1 class="display-6 fs-3 mb-4 mt-5">Listagem dos Membros</h1>
                                <div class="card border-0 shadow-sm">
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table
                                                class="table table-hover mb-0">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th>ID</th>
                                                        <th>Nome Membro</th>
                                                        <th>Email</th>
                                                        <th>Línguas</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <!-- Linhas de membros serão
                                                        inseridas aqui via JS -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="documentos-equipa-tradutores" class="user-page">
                                <h1 class="display-6 mb-4">Documentos da Equipa</h1>
                                <div id="form2-tradutores-wrapper" class="card border-0 shadow-sm mb-4">
                                    <div class="card-body">
                                        <form id="form2-tradutores" style="max-width: 55%;">
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Nome da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="nome_equipa2_tradutores" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Tipo da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="tipo_equipa2_tradutores" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Estado da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="estado_equipa2_tradutores" class="form-control" disabled>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <h1 class="display-6 fs-3 mb-4 mt-5">Listagem dos Documentos</h1>
                                <div class="card border-0 shadow-sm">
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table
                                                class="table table-hover mb-0">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th>ID</th>
                                                        <th>Cliente</th>
                                                        <th>De → Para</th>
                                                        <th>Estado</th>
                                                        <th>Data Envio</th>
                                                        <th>Valor</th>
                                                        <th>Paginas</th>
                                                        <th>Ações</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <!-- Linhas de membros serão
                                                        inseridas aqui via JS -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="equipa-revisores" class="user-page">
                                <h1 class="display-6 mb-4">Minha Equipa de Tradução</h1>
                                <div id="form-revisores-wrapper" class="card border-0 shadow-sm mb-4">
                                    <div class="card-body">
                                        <form id="form-revisores" style="max-width: 55%;">
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Nome da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="nome_equipa1_revisores" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Tipo da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="tipo_equipa1_revisores" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Estado da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="estado_equipa1_revisores" class="form-control" disabled>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                
                                <h1 class="display-6 fs-3 mb-4 mt-5">Listagem dos Membros</h1>
                                <div class="card border-0 shadow-sm">
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table
                                                class="table table-hover mb-0">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th>ID</th>
                                                        <th>Nome Membro</th>
                                                        <th>Email</th>
                                                        <th>Línguas</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <!-- Linhas de membros serão
                                                        inseridas aqui via JS -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="documentos-equipa-revisores" class="user-page">
                                <h1 class="display-6 mb-4">Documentos da Equipa</h1>
                                <div id="form2-revisores-wrapper" class="card border-0 shadow-sm mb-4">
                                    <div class="card-body">
                                        <form id="form2-revisores" style="max-width: 55%;">
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Nome da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="nome_equipa2_revisores" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Tipo da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="tipo_equipa2_revisores" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="row mb-3 align-items-center">
                                                <label class="col-sm-2 data-label">Estado da Equipa: </label>
                                                <div class="col-sm-8">
                                                    <input type="text" name="estado_equipa2_revisores" class="form-control" disabled>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <h1 class="display-6 fs-3 mb-4 mt-5">Listagem dos Documentos</h1>
                                <div class="card border-0 shadow-sm">
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table
                                                class="table table-hover mb-0">
                                                <thead class="table-light">
                                                    <tr>
                                                        <th>ID</th>
                                                        <th>Cliente</th>
                                                        <th>De → Para</th>
                                                        <th>Estado</th>
                                                        <th>Data Envio</th>
                                                        <th>Valor</th>
                                                        <th>Paginas</th>
                                                        <th></th>
                                                        <th>Ações</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <!-- Linhas de membros serão
                                                        inseridas aqui via JS -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            &copy; 2025 Tradux. Todos os direitos reservados.
        </footer>

        <!-- JS -->
        <!-- jsPDF e jspdf-autotable -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" defer></script>
        <script src="../src/js/perfil.js" defer></script>
        <script src="../src/js/main.js" defer></script>
        <script>
            const token = localStorage.getItem('token');
            
            if (!token) {
                window.location.href = 'login-signup.html';
            }
        </script>

    </body>
</html>